<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Cronfed by hatnote</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Cronfed</h1>
        <p>Convert cron emails to RSS 2.0. It&#39;s the least you can do!</p>

        <p class="view"><a href="https://github.com/hatnote/cronfed">View the Project on GitHub <small>hatnote/cronfed</small></a></p>


        <ul>
          <li><a href="https://github.com/hatnote/cronfed/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/hatnote/cronfed/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/hatnote/cronfed">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><img src="https://farm9.staticflickr.com/8144/7544169948_8abb2bb2f3_m_d.jpg" alt="Cronfed logo"></p>

<p>Cronfed is a tool for monitoring basic batch jobs, or any other
cron-based scheduled commands. It achieves this by parsing a given
mailbox and turning it into an RSS feed, which can then be monitored
with your <a href="https://www.mozilla.org/en-US/firefox/new/">browser</a>, <a href="https://theoldreader.com/">feedreader</a> or other RSS-compatible service
(such as <a href="https://ifttt.com/">IFTTT</a>).</p>

<p>Simply add a cron job to generate the feed, pointing it at a
web-accessible location (such as a <code>public_html</code> directory or your
site’s assets directory). Check out the example for some real-world
Cronfed usage, with an explanation of how cron and Cronfed work
together.</p>

<p>Cronfed is aimed at providing a basic threshold of monitoring without
complex automation or dependencies, making it suitable for smaller
projects which otherwise might go without any monitoring at all. It’s so
easy to set up and use on the standard Linux/BSD machine that there’s no
reason to not use it from Day 1. While Cronfed makes attempts at
limiting the amount of information externalized, it is not recommended
for jobs with extremely-sensitive information.</p>

<p><em>“Cronfed: It’s the least you could do!”</em></p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<p>First, let’s look at a basic cron job. This one will fetch our data once
an hour, on the hour:</p>

<pre><code>0 * * * * /usr/bin/python /home/myuser/project/fetch.py 2&gt;&amp;1 | tee -a /home/myuser/project/logs/fetch.txt
</code></pre>

<p>Notice how the output (<code>stdout</code> + <code>stderr</code>) is piped to a log file, but
using the <code>tee</code> command. This ensures that the output goes to the file
as well as <code>stdout</code>. <code>cron</code> captures that <code>stdout</code> and puts it into an
email, which then gets sent to the user who owns the job. This usually
means the email goes to <code>myuser@localhost</code>, which on many distributions
means that it is saved to <code>/var/mail/myuser</code>. Do note that if the
command generates no output, then <code>cron</code> <strong>will not send an email</strong>, so
it’s a good idea to emit an error message.</p>

<p>Once we’re sure that email is being delivered, we’re halfway there. Now
we just need the actual Cronfed cronjob:</p>

<pre><code>*/15 * * * * /usr/bin/python -m cronfed --output /var/www/mysite/assets/cronfed.rss /var/mail/myuser 2&gt;&amp;1 | tee -a /home/myuser/project/logs/cronfed.txt
</code></pre>

<p>In this example we have the installed <code>cronfed</code> module regenerating our
feed every fifteen minutes. This is a pretty quick process in most
cases, so feel free to make it more often. In this case, the output of
cronfed itself is monitored in exactly the same way as normal cron jobs,
with a logfile and email to <code>user@localhost</code>.</p>

<h2>
<a id="history" class="anchor" href="#history" aria-hidden="true"><span class="octicon octicon-link"></span></a>History</h2>

<p>Cronfed was created for <a href="http://hatnote.com">Hatnote</a> to monitor the periodic data
refreshes necessary to generate <a href="http://weekly.hatnote.com">The Weeklypedia</a>.</p>

<ul>
<li>  Copyright: (c) 2015 by Mark Williams and Mahmoud Hashemi</li>
<li>  License: BSD, see LICENSE for more details.</li>
<li>  Logo is <a href="https://www.flickr.com/photos/opensourceway/7544169948/in/set-72157630515775420">Cow-laboration #23</a>
</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/hatnote">hatnote</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-61001711-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>